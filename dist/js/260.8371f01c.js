"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[260],{3260:function(s,e,a){a.r(e),a.d(e,{default:function(){return f}});var r=a(3396);const o=s=>((0,r.dD)("data-v-f1e9bdfa"),s=s(),(0,r.Cn)(),s),t={class:"security"},d={for:"password",class:"input-wrapper"},l=o((()=>(0,r._)("div",{class:"title"},"輸入新密碼",-1))),c=o((()=>(0,r._)("span",{class:"error-message"}," Password 不能小於 8 個字元，需包含大小寫和數字 ",-1))),n={for:"confirmPassword",class:"input-wrapper"},i=o((()=>(0,r._)("div",{class:"title"},"再次輸入",-1))),u=["disabled"];function m(s,e,a,o,m,p){const w=(0,r.up)("VField"),h=(0,r.up)("error-message"),f=(0,r.up)("VForm");return(0,r.wg)(),(0,r.iD)("div",t,[(0,r.Wm)(f,{onSubmit:p.updated},{default:(0,r.w5)((({errors:s})=>[(0,r._)("label",d,[l,(0,r.Wm)(w,{id:"password",name:"新密碼",type:"password",modelValue:m.password,"onUpdate:modelValue":e[0]||(e[0]=s=>m.password=s),placeholder:"請輸入新密碼",class:"border",rules:{regex:/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/}},null,8,["modelValue","rules"]),(0,r.Wm)(h,{name:"新密碼"},{default:(0,r.w5)((()=>[c])),_:1})]),(0,r._)("label",n,[i,(0,r.Wm)(w,{id:"confirmPassword",name:"再次輸入",type:"password",modelValue:m.confirmPassword,"onUpdate:modelValue":e[1]||(e[1]=s=>m.confirmPassword=s),placeholder:"再次輸入新密碼",class:"border",rules:"confirmed:@新密碼"},null,8,["modelValue"]),(0,r.Wm)(h,{class:"error-message",name:"再次輸入"})]),(0,r._)("button",{type:"submit",class:"btn border submit",disabled:p.disabled(s)},"重設密碼",8,u)])),_:1},8,["onSubmit"])])}var p={name:"SecurityView",data(){return{password:"",confirmPassword:""}},computed:{},watch:{},methods:{disabled(s){const{confirmPassword:e,password:a}=this,r=Object.keys(s).length;return!e||!a||0!==r},updated(){this.$store.commit("Load",!0);const s="https://agile-anchorage-83053.herokuapp.com/user/updatePassword",{headers:e}=this.$store.state,a={password:this.password,confirmPassword:this.confirmPassword};this.$http.patch(s,a,e).then((s=>{const e=`Bearer ${s.data.user.token}`;localStorage.setItem("authorization",e),this.$swal({title:"密碼已更新",icon:"success",customClass:{actions:"customize",icon:"customize"}})})).catch((s=>{console.error(s)})).then((()=>{this.$store.commit("Load",!1)}))}}},w=a(89);const h=(0,w.Z)(p,[["render",m],["__scopeId","data-v-f1e9bdfa"]]);var f=h}}]);
//# sourceMappingURL=260.8371f01c.js.map