"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[964],{4964:function(s,e,a){a.r(e),a.d(e,{default:function(){return h}});var r=a(6768);const t=s=>((0,r.Qi)("data-v-44c33621"),s=s(),(0,r.jt)(),s),o={class:"security"},d={class:"input-wrapper",for:"password"},l=t((()=>(0,r.Lk)("div",{class:"title"},"輸入新密碼",-1))),c=t((()=>(0,r.Lk)("span",{class:"error-message"}," Password 不能小於 8 個字元，需包含大小寫和數字 ",-1))),n={class:"input-wrapper",for:"confirmPassword"},i=t((()=>(0,r.Lk)("div",{class:"title"},"再次輸入",-1))),u=["disabled"];function m(s,e,a,t,m,p){const w=(0,r.g2)("VField"),b=(0,r.g2)("error-message"),h=(0,r.g2)("VForm");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(h,{onSubmit:p.updated},{default:(0,r.k6)((({errors:s})=>[(0,r.Lk)("label",d,[l,(0,r.bF)(w,{id:"password",modelValue:m.password,"onUpdate:modelValue":e[0]||(e[0]=s=>m.password=s),class:"border",name:"新密碼",type:"password",placeholder:"請輸入新密碼",rules:{regex:/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/}},null,8,["modelValue","rules"]),(0,r.bF)(b,{name:"新密碼"},{default:(0,r.k6)((()=>[c])),_:1})]),(0,r.Lk)("label",n,[i,(0,r.bF)(w,{id:"confirmPassword",modelValue:m.confirmPassword,"onUpdate:modelValue":e[1]||(e[1]=s=>m.confirmPassword=s),class:"border",name:"再次輸入",type:"password",placeholder:"再次輸入新密碼",rules:"confirmed:@新密碼"},null,8,["modelValue"]),(0,r.bF)(b,{class:"error-message",name:"再次輸入"})]),(0,r.Lk)("button",{class:"btn border submit",type:"submit",disabled:p.disabled(s)},"重設密碼",8,u)])),_:1},8,["onSubmit"])])}var p={name:"SecurityView",data(){return{password:"",confirmPassword:""}},computed:{},watch:{},methods:{disabled(s){const{confirmPassword:e,password:a}=this,r=Object.keys(s).length;return!e||!a||0!==r},updated(){this.$store.commit("Load",!0);const s="https://metawall-backend-c89d.onrender.com/user/updatePassword",{headers:e}=this.$store.state,a={password:this.password,confirmPassword:this.confirmPassword};this.$http.patch(s,a,e).then((s=>{const e=`Bearer ${s.data.user.token}`;localStorage.setItem("authorization",e),this.$swal({title:"密碼已更新",icon:"success",customClass:{actions:"customize",icon:"customize"}})})).catch((s=>{console.error(s)})).then((()=>{this.$store.commit("Load",!1)}))}}},w=a(1241);const b=(0,w.A)(p,[["render",m],["__scopeId","data-v-44c33621"]]);var h=b}}]);
//# sourceMappingURL=964.f0594762.js.map