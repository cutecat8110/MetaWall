"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[634],{7634:function(e,s,a){a.r(s),a.d(s,{default:function(){return y}});var l=a(6768),r=a(4232);const t=e=>((0,l.Qi)("data-v-673031ab"),e=e(),(0,l.jt)(),e),o={class:"sign-up-view"},n={class:"middle"},d={class:"container border"},u=["src"],m={class:"auth-content"},i=t((()=>(0,l.Lk)("h2",{class:"cursor-none"},"MetaWall",-1))),c=t((()=>(0,l.Lk)("h3",null,"到元宇宙展開全新社交圈",-1))),p={class:"input-group"},b={class:"input-wrapper",for:"name"},h={class:"input-wrapper",for:"email"},g={class:"input-wrapper",for:"password"},w=t((()=>(0,l.Lk)("span",null," Password 不能小於 8 個字元，需包含大小寫和數字 ",-1))),k={key:0,class:"error-message"},L=["disabled"],v=(0,l.eW)("登入");function f(e,s,a,t,f,V){const F=(0,l.g2)("VField"),_=(0,l.g2)("error-message"),y=(0,l.g2)("VForm"),U=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[(0,l.Lk)("div",d,[(0,l.Lk)("img",{class:"cursor-none hide",src:f.bg,alt:"",onLoad:s[0]||(s[0]=(...s)=>e.successLoadImg&&e.successLoadImg(...s))},null,40,u),(0,l.Lk)("div",m,[i,c,(0,l.bF)(y,{onSubmit:V.signUp},{default:(0,l.k6)((({errors:e})=>[(0,l.Lk)("div",p,[(0,l.Lk)("label",b,[(0,l.bF)(F,{id:"name",modelValue:f.user.name,"onUpdate:modelValue":s[1]||(s[1]=e=>f.user.name=e),class:"border",name:"暱稱",type:"name",placeholder:"暱稱",rules:{required:!0,min:2,max:13},autocomplete:"new-password"},null,8,["modelValue"]),(0,l.bF)(_,{name:"暱稱"})]),(0,l.Lk)("label",h,[(0,l.bF)(F,{id:"email",modelValue:f.user.email,"onUpdate:modelValue":s[2]||(s[2]=e=>f.user.email=e),class:"border",name:"Email",type:"email",placeholder:"Email",rules:{required:!0,email:!0},autocomplete:"new-password"},null,8,["modelValue"]),(0,l.bF)(_,{name:"Email"})]),(0,l.Lk)("label",g,[(0,l.bF)(F,{id:"password",modelValue:f.user.password,"onUpdate:modelValue":s[3]||(s[3]=e=>f.user.password=e),class:"border",name:"Password",type:"password",placeholder:"Password",rules:{regex:/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/},autocomplete:"new-password"},null,8,["modelValue","rules"]),(0,l.bF)(_,{name:"Password"},{default:(0,l.k6)((()=>[w])),_:1})])]),f.message?((0,l.uX)(),(0,l.CE)("div",k,(0,r.v_)(f.message),1)):(0,l.Q3)("",!0),(0,l.Lk)("button",{class:"btn border submit",type:"submit",disabled:V.disabled(e)}," 註冊 ",8,L)])),_:1},8,["onSubmit"]),(0,l.bF)(U,{class:"btn link",to:{name:"sign_in"}},{default:(0,l.k6)((()=>[v])),_:1})])])])])}var V={name:"SignUpView",data(){return{user:{name:"",email:"",password:""},message:"",bg:"https://i.imgur.com/PmHlItb.png"}},watch:{user:{handler(){this.message&&(this.message="")},deep:!0}},methods:{signUp(){this.$store.commit("Load",!0);const e="https://metawall-backend-c89d.onrender.com/user/sign_up";this.$http.post(e,this.user).then((e=>{const s=`Bearer ${e.data.user.token}`;localStorage.setItem("authorization",s),this.$router.push({name:"posts_wall"})})).catch((e=>{const{message:s}=e.response.data;this.message=s})).then((()=>{this.$store.commit("Load",!1)}))},disabled(e){const{name:s,email:a,password:l}=this.user,r=Object.keys(e).length;return!(s&&a&&l&&0===r)}}},F=a(1241);const _=(0,F.A)(V,[["render",f],["__scopeId","data-v-673031ab"]]);var y=_}}]);
//# sourceMappingURL=634.7c7e8f9a.js.map