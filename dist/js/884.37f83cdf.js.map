{"version":3,"file":"js/884.37f83cdf.js","mappings":"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","sources":["webpack://metawall/./src/views/SignUp.vue","webpack://metawall/./src/views/SignUp.vue?9d2a"],"sourcesContent":["<template>\n  <div class=\"sign-up-view\">\n    <div class=\"middle\">\n      <div class=\"container border\">\n        <img class=\"cursor-none\" src=\"@/assets/img/sign.svg\" alt=\"\" />\n        <div class=\"auth-content\">\n          <h2 class=\"cursor-none\">MetaWall</h2>\n          <h3>到元宇宙展開全新社交圈</h3>\n          <VForm v-slot=\"{ errors }\" @submit=\"signUp\">\n            <div class=\"input-group\">\n              <label for=\"name\" class=\"input-wrapper\">\n                <VField\n                  id=\"name\"\n                  name=\"暱稱\"\n                  type=\"name\"\n                  v-model=\"user.name\"\n                  placeholder=\"暱稱\"\n                  autocomplete=\"new-password\"\n                  :rules=\"{ required: true, min: 2, max: 13 }\"\n                  class=\"border\"\n                />\n                <error-message name=\"暱稱\" />\n              </label>\n              <label for=\"email\" class=\"input-wrapper\">\n                <VField\n                  id=\"email\"\n                  name=\"Email\"\n                  type=\"email\"\n                  v-model=\"user.email\"\n                  placeholder=\"Email\"\n                  autocomplete=\"new-password\"\n                  :rules=\"{ required: true, email: true }\"\n                  class=\"border\"\n                />\n                <error-message name=\"Email\" />\n              </label>\n              <label for=\"password\" class=\"input-wrapper\">\n                <VField\n                  id=\"password\"\n                  name=\"Password\"\n                  type=\"password\"\n                  v-model=\"user.password\"\n                  placeholder=\"Password\"\n                  autocomplete=\"new-password\"\n                  :rules=\"{ regex: /(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/ }\"\n                  class=\"border\"\n                />\n                <error-message name=\"Password\">\n                  <span> Password 不能小於 8 個字元，需包含大小寫和數字 </span>\n                </error-message>\n              </label>\n            </div>\n            <div v-if=\"message\" class=\"error-message\">{{ message }}</div>\n            <button type=\"submit\" class=\"btn border submit\" :disabled=\"disabled(errors)\">\n              註冊\n            </button>\n          </VForm>\n          <router-link :to=\"{ name: 'sign_in' }\" class=\"btn link\">登入</router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SignUpView',\n  data() {\n    return {\n      user: {\n        name: '',\n        email: '',\n        password: '',\n      },\n      message: '',\n    };\n  },\n  watch: {\n    user: {\n      handler() {\n        if (this.message) {\n          this.message = '';\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    signUp() {\n      this.$store.commit('Load', true);\n      const api = `${process.env.VUE_APP_API}/user/sign_up`;\n      this.$http\n        .post(api, this.user)\n        .then((res) => {\n          const token = `Bearer ${res.data.user.token}`;\n          localStorage.setItem('authorization', token);\n          this.$router.push({ name: 'posts_wall' });\n        })\n        .catch((err) => {\n          const { message } = err.response.data;\n          this.message = message;\n        })\n        .then(() => {\n          this.$store.commit('Load', false);\n        });\n    },\n    disabled(errors) {\n      const { name, email, password } = this.user;\n      const err = Object.keys(errors).length;\n      if (name && email && password && err === 0) return false;\n      return true;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" src=\"@/assets/scss/site/_sign.scss\" scoped></style>\n","import { render } from \"./SignUp.vue?vue&type=template&id=7c1c7090&scoped=true\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/scss/site/_sign.scss?vue&type=style&index=0&id=7c1c7090&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\metawall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c1c7090\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","for","_createElementBlock","_hoisted_4","_hoisted_6","_hoisted_7","_createVNode","_component_VForm","onSubmit","$options","errors","_component_VField","id","name","type","$data","$event","placeholder","autocomplete","rules","required","min","max","_component_error_message","email","password","regex","_hoisted_12","_toDisplayString","disabled","_hoisted_14","_component_router_link","to","data","user","message","watch","handler","this","deep","methods","signUp","$store","commit","api","$http","post","then","res","token","localStorage","setItem","$router","push","catch","err","response","Object","keys","length","__exports__","render"],"sourceRoot":""}