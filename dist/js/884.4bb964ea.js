"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[884],{884:function(e,s,a){a.r(s),a.d(s,{default:function(){return $}});var l=a(3396),r=a(7139),t=a(1058);const o=e=>((0,l.dD)("data-v-7c1c7090"),e=e(),(0,l.Cn)(),e),n={class:"sign-up-view"},u={class:"middle"},m={class:"container border"},d=o((()=>(0,l._)("img",{class:"cursor-none",src:t,alt:""},null,-1))),i={class:"auth-content"},p=o((()=>(0,l._)("h2",{class:"cursor-none"},"MetaWall",-1))),c=o((()=>(0,l._)("h3",null,"到元宇宙展開全新社交圈",-1))),w={class:"input-group"},h={for:"name",class:"input-wrapper"},g={for:"email",class:"input-wrapper"},b={for:"password",class:"input-wrapper"},_=o((()=>(0,l._)("span",null," Password 不能小於 8 個字元，需包含大小寫和數字 ",-1))),f={key:0,class:"error-message"},v=["disabled"],k=(0,l.Uk)("登入");function V(e,s,a,t,o,V){const W=(0,l.up)("VField"),U=(0,l.up)("error-message"),y=(0,l.up)("VForm"),$=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",u,[(0,l._)("div",m,[d,(0,l._)("div",i,[p,c,(0,l.Wm)(y,{onSubmit:V.signUp},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",w,[(0,l._)("label",h,[(0,l.Wm)(W,{id:"name",name:"暱稱",type:"name",modelValue:o.user.name,"onUpdate:modelValue":s[0]||(s[0]=e=>o.user.name=e),placeholder:"暱稱",autocomplete:"new-password",rules:{required:!0,min:2,max:13},class:"border"},null,8,["modelValue"]),(0,l.Wm)(U,{name:"暱稱"})]),(0,l._)("label",g,[(0,l.Wm)(W,{id:"email",name:"Email",type:"email",modelValue:o.user.email,"onUpdate:modelValue":s[1]||(s[1]=e=>o.user.email=e),placeholder:"Email",autocomplete:"new-password",rules:{required:!0,email:!0},class:"border"},null,8,["modelValue"]),(0,l.Wm)(U,{name:"Email"})]),(0,l._)("label",b,[(0,l.Wm)(W,{id:"password",name:"Password",type:"password",modelValue:o.user.password,"onUpdate:modelValue":s[2]||(s[2]=e=>o.user.password=e),placeholder:"Password",autocomplete:"new-password",rules:{regex:/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/},class:"border"},null,8,["modelValue","rules"]),(0,l.Wm)(U,{name:"Password"},{default:(0,l.w5)((()=>[_])),_:1})])]),o.message?((0,l.wg)(),(0,l.iD)("div",f,(0,r.zw)(o.message),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"submit",class:"btn border submit",disabled:V.disabled(e)}," 註冊 ",8,v)])),_:1},8,["onSubmit"]),(0,l.Wm)($,{to:{name:"sign_in"},class:"btn link"},{default:(0,l.w5)((()=>[k])),_:1})])])])])}var W={name:"SignUpView",data(){return{user:{name:"",email:"",password:""},message:""}},watch:{user:{handler(){this.message&&(this.message="")},deep:!0}},methods:{signUp(){this.$store.commit("Load",!0);const e="https://agile-anchorage-83053.herokuapp.com/user/sign_up";this.$http.post(e,this.user).then((e=>{const s=`Bearer ${e.data.user.token}`;localStorage.setItem("authorization",s),this.$router.push({name:"posts_wall"})})).catch((e=>{const{message:s}=e.response.data;this.message=s})).then((()=>{this.$store.commit("Load",!1)}))},disabled(e){const{name:s,email:a,password:l}=this.user,r=Object.keys(e).length;return!(s&&a&&l&&0===r)}}},U=a(89);const y=(0,U.Z)(W,[["render",V],["__scopeId","data-v-7c1c7090"]]);var $=y},1058:function(e,s,a){e.exports=a.p+"img/sign.b74fc2f8.svg"}}]);
//# sourceMappingURL=884.4bb964ea.js.map