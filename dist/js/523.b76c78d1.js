"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[523],{3523:function(e,s,a){a.r(s),a.d(s,{default:function(){return y}});var l=a(3396),r=a(7139);const t=e=>((0,l.dD)("data-v-05a3401f"),e=e(),(0,l.Cn)(),e),o={class:"sign-up-view"},n={class:"middle"},m={class:"container border"},d=["src"],u={class:"auth-content"},i=t((()=>(0,l._)("h2",{class:"cursor-none"},"MetaWall",-1))),p=t((()=>(0,l._)("h3",null,"到元宇宙展開全新社交圈",-1))),c={class:"input-group"},w={for:"name",class:"input-wrapper"},h={for:"email",class:"input-wrapper"},g={for:"password",class:"input-wrapper"},b=t((()=>(0,l._)("span",null," Password 不能小於 8 個字元，需包含大小寫和數字 ",-1))),_={key:0,class:"error-message"},f=["disabled"],k=(0,l.Uk)("登入");function v(e,s,a,t,v,V){const W=(0,l.up)("VField"),U=(0,l.up)("error-message"),y=(0,l.up)("VForm"),I=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",n,[(0,l._)("div",m,[(0,l._)("img",{onLoad:s[0]||(s[0]=(...s)=>e.successLoadImg&&e.successLoadImg(...s)),class:"cursor-none hide",src:v.bg,alt:""},null,40,d),(0,l._)("div",u,[i,p,(0,l.Wm)(y,{onSubmit:V.signUp},{default:(0,l.w5)((({errors:e})=>[(0,l._)("div",c,[(0,l._)("label",w,[(0,l.Wm)(W,{id:"name",name:"暱稱",type:"name",modelValue:v.user.name,"onUpdate:modelValue":s[1]||(s[1]=e=>v.user.name=e),placeholder:"暱稱",autocomplete:"new-password",rules:{required:!0,min:2,max:13},class:"border"},null,8,["modelValue"]),(0,l.Wm)(U,{name:"暱稱"})]),(0,l._)("label",h,[(0,l.Wm)(W,{id:"email",name:"Email",type:"email",modelValue:v.user.email,"onUpdate:modelValue":s[2]||(s[2]=e=>v.user.email=e),placeholder:"Email",autocomplete:"new-password",rules:{required:!0,email:!0},class:"border"},null,8,["modelValue"]),(0,l.Wm)(U,{name:"Email"})]),(0,l._)("label",g,[(0,l.Wm)(W,{id:"password",name:"Password",type:"password",modelValue:v.user.password,"onUpdate:modelValue":s[3]||(s[3]=e=>v.user.password=e),placeholder:"Password",autocomplete:"new-password",rules:{regex:/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/},class:"border"},null,8,["modelValue","rules"]),(0,l.Wm)(U,{name:"Password"},{default:(0,l.w5)((()=>[b])),_:1})])]),v.message?((0,l.wg)(),(0,l.iD)("div",_,(0,r.zw)(v.message),1)):(0,l.kq)("",!0),(0,l._)("button",{type:"submit",class:"btn border submit",disabled:V.disabled(e)}," 註冊 ",8,f)])),_:1},8,["onSubmit"]),(0,l.Wm)(I,{to:{name:"sign_in"},class:"btn link"},{default:(0,l.w5)((()=>[k])),_:1})])])])])}var V={name:"SignUpView",data(){return{user:{name:"",email:"",password:""},message:"",bg:"https://i.imgur.com/PmHlItb.png"}},watch:{user:{handler(){this.message&&(this.message="")},deep:!0}},methods:{signUp(){this.$store.commit("Load",!0);const e="https://agile-anchorage-83053.herokuapp.com/user/sign_up";this.$http.post(e,this.user).then((e=>{const s=`Bearer ${e.data.user.token}`;localStorage.setItem("authorization",s),this.$router.push({name:"posts_wall"})})).catch((e=>{const{message:s}=e.response.data;this.message=s})).then((()=>{this.$store.commit("Load",!1)}))},disabled(e){const{name:s,email:a,password:l}=this.user,r=Object.keys(e).length;return!(s&&a&&l&&0===r)}}},W=a(89);const U=(0,W.Z)(V,[["render",v],["__scopeId","data-v-05a3401f"]]);var y=U}}]);
//# sourceMappingURL=523.b76c78d1.js.map