"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[912],{9912:function(e,s,a){a.r(s),a.d(s,{default:function(){return W}});var r=a(3396),t=a(1058);const l=e=>((0,r.dD)("data-v-42cc0ae8"),e=e(),(0,r.Cn)(),e),o={class:"sign-in-view"},n={class:"middle"},i={class:"container border"},u=l((()=>(0,r._)("img",{class:"cursor-none",src:t,alt:""},null,-1))),d={class:"auth-content"},m=l((()=>(0,r._)("h2",{class:"cursor-none"},"MetaWall",-1))),c=l((()=>(0,r._)("h3",null,"到元宇宙展開全新社交圈",-1))),p={class:"input-group"},h={for:"email",class:"input-wrapper"},w={for:"password",class:"input-wrapper"},b={key:0,class:"error-message"},g=["disabled"],_=(0,r.Uk)("註冊帳號");function f(e,s,a,t,l,f){const v=(0,r.up)("VField"),k=(0,r.up)("error-message"),V=(0,r.up)("VForm"),W=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",n,[(0,r._)("div",i,[u,(0,r._)("div",d,[m,c,(0,r.Wm)(V,{onSubmit:f.signIn},{default:(0,r.w5)((({errors:e})=>[(0,r._)("div",p,[(0,r._)("label",h,[(0,r.Wm)(v,{id:"email",name:"Email",type:"email",modelValue:l.user.email,"onUpdate:modelValue":s[0]||(s[0]=e=>l.user.email=e),placeholder:"Email",autocomplete:"new-password",rules:{required:!0,email:!0},class:"border"},null,8,["modelValue"]),(0,r.Wm)(k,{name:"Email"})]),(0,r._)("label",w,[(0,r.Wm)(v,{id:"password",name:"Password",type:"password",modelValue:l.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>l.user.password=e),placeholder:"Password",autocomplete:"new-password",rules:"required",class:"border"},null,8,["modelValue"]),(0,r.Wm)(k,{name:"Password"})])]),l.err?((0,r.wg)(),(0,r.iD)("div",b,"帳號或密碼錯誤，請重新輸入！")):(0,r.kq)("",!0),(0,r._)("button",{type:"submit",class:"btn border submit",disabled:l.err},"登入",8,g)])),_:1},8,["onSubmit"]),(0,r.Wm)(W,{to:{name:"sign_up"},class:"btn link"},{default:(0,r.w5)((()=>[_])),_:1})])])])])}var v={name:"SignInView",data(){return{user:{email:"",password:""},err:!1}},watch:{user:{handler(){this.err&&(this.err=!1)},deep:!0}},methods:{signIn(){this.$store.commit("Load",!0);const e="https://agile-anchorage-83053.herokuapp.com/user/sign_in";this.$http.post(e,this.user).then((e=>{const s=`Bearer ${e.data.user.token}`;localStorage.setItem("authorization",s),this.$router.push({name:"posts_wall"})})).catch((()=>{this.err=!0})).then((()=>{this.$store.commit("Load",!1)}))}}},k=a(89);const V=(0,k.Z)(v,[["render",f],["__scopeId","data-v-42cc0ae8"]]);var W=V},1058:function(e,s,a){e.exports=a.p+"img/sign.b74fc2f8.svg"}}]);
//# sourceMappingURL=912.e7e9d501.js.map