"use strict";(self["webpackChunkmetawall"]=self["webpackChunkmetawall"]||[]).push([[737],{7737:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var a=s(3396);const o={class:"posts-wall"},r={class:"container"};function n(e,t,s,n,l,i){const c=(0,a.up)("Header"),d=(0,a.up)("router-view"),m=(0,a.up)("AsideNav");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(c),(0,a._)("main",r,[(0,a._)("article",null,[(0,a.Wm)(d)]),(0,a._)("aside",null,[(0,a.Wm)(m)])])])}const l=e=>((0,a.dD)("data-v-7e67963f"),e=e(),(0,a.Cn)(),e),i={class:"container"},c=(0,a.Uk)("MetaWall"),d={ref:"memberWrapper",class:"member-wrapper"},m={class:"user-photo border circle"},u=["src"],p=l((()=>(0,a._)("span",{class:"member-text"},"Member",-1))),h={key:0,ref:"memberDropdown",class:"border bg-white dropdown-wrapper"},b={class:"border bg-white dropdown"},f={class:"btn"},_=(0,a.Uk)(" 我的貼文牆 "),w={class:"btn"},g=(0,a.Uk)(" 修改個人資料 ");function v(e,t,s,o,r,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",null,[(0,a._)("div",i,[(0,a.Wm)(l,{to:"/",class:"btn logo"},{default:(0,a.w5)((()=>[c])),_:1}),(0,a._)("div",d,[(0,a._)("button",{type:"button",class:"member-btn btn",onClick:t[1]||(t[1]=e=>n.toggle())},[(0,a._)("div",m,[(0,a._)("img",{onLoad:t[0]||(t[0]=(...t)=>e.successLoadImg&&e.successLoadImg(...t)),src:n.user.photo,alt:"",class:"hide"},null,40,u)]),p]),r.select?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("ul",b,[(0,a._)("li",f,[(0,a.Wm)(l,{to:{path:`/profile/${n.user._id}`},class:"btn link",onClick:n.toggle},{default:(0,a.w5)((()=>[_])),_:1},8,["to","onClick"])]),(0,a._)("li",w,[(0,a.Wm)(l,{to:{path:"/setting"},class:"btn link",onClick:n.toggle},{default:(0,a.w5)((()=>[g])),_:1},8,["onClick"])]),(0,a._)("li",{class:"btn",onClick:t[2]||(t[2]=e=>n.signOut()),onKeyup:t[3]||(t[3]=e=>n.signOut())},"登出",32)])],512)):(0,a.kq)("",!0)],512)])])}var k={name:"HeaderCMPT",data(){return{select:!1}},mounted(){document.addEventListener("click",this.memberDropdownClick),window.addEventListener("resize",this.memberDropdownOffset)},updated(){this.$refs.memberDropdown&&this.memberDropdownOffset()},beforeUnmount(){document.removeEventListener("click",this.memberDropdownClick),window.removeEventListener("resize",this.memberDropdownOffset)},watch:{$route(){this.select=!1}},computed:{user(){const{user:e}=this.$store.state;return e}},methods:{toggle(){this.select=!this.select},memberDropdownClick(e){if(this.$refs.memberDropdown){const t=this.$refs.memberWrapper.contains(e.target);t||(this.select=!1)}},memberDropdownOffset(){if(this.$refs.memberDropdown){const e=getComputedStyle(document.documentElement).fontSize.replace(/[^0-9]+(.[0-9]{2})?$/gi,""),t=document.body.clientWidth,s=this.$refs.memberDropdown.getBoundingClientRect().width,a=this.$refs.memberWrapper.getBoundingClientRect().x;if(t-e<a+s){const o=t-s-a-e+5;this.$refs.memberDropdown.style.transform=`translate(${o}px,100%)`}}},signOut(){localStorage.removeItem("authorization"),this.$router.push({name:"sign_in"})}}},$=s(89);const C=(0,$.Z)(k,[["render",v],["__scopeId","data-v-7e67963f"]]);var D=C,W=s(7139);const L=e=>((0,a.dD)("data-v-0a02169f"),e=e(),(0,a.Cn)(),e),I={class:"aside-nav"},y={class:"nav border bg-white"},O=L((()=>(0,a._)("span",{class:"fw-bold btn post radius"}," 張貼動態 ",-1))),A=L((()=>(0,a._)("div",{class:"border btn circle"},[(0,a._)("span",{class:"material-icons"}," add ")],-1))),E={class:"user-photo border circle"},z=["src"],H={class:"fw-bold"},x=L((()=>(0,a._)("div",{class:"btn-icon border circle"},[(0,a._)("span",{class:"material-icons"}," notifications_none ")],-1))),M=L((()=>(0,a._)("span",{class:"fw-bold"},"追蹤名單",-1))),U=L((()=>(0,a._)("div",{class:"btn-icon border circle"},[(0,a._)("span",{class:"material-icons"}," thumb_up_off_alt ")],-1))),Z=L((()=>(0,a._)("span",{class:"fw-bold"},"我按讚的文章",-1))),N=(0,a.uE)('<div class="copyright border radius" data-v-0a02169f><ul class="external-link" data-v-0a02169f><li data-v-0a02169f><a href="https://github.com/cutecat8110/metawall" class="btn" target="_blank" data-v-0a02169f><span class="material-icons" data-v-0a02169f> desktop_windows </span> 前端 </a></li><li data-v-0a02169f><a href="https://agile-anchorage-83053.herokuapp.com/api-docs/" class="btn" target="_blank" data-v-0a02169f><span class="material-icons" data-v-0a02169f> settings_ethernet </span> API </a></li><li data-v-0a02169f><a href="https://github.com/cutecat8110/metawall_backend" class="btn" target="_blank" data-v-0a02169f><span class="material-icons" data-v-0a02169f> storage </span> 後端 </a></li></ul> Copyright © 2022 by Hao / 作品展示 </div>',1);function P(e,t,s,o,r,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("ul",y,[(0,a._)("li",null,[(0,a.Wm)(l,{to:"/post",class:"btn"},{default:(0,a.w5)((()=>[O,A])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{to:{path:`/profile/${n.user._id}`},class:"btn link"},{default:(0,a.w5)((()=>[(0,a._)("div",E,[(0,a._)("img",{onLoad:t[0]||(t[0]=(...t)=>e.successLoadImg&&e.successLoadImg(...t)),src:n.user.photo,alt:"",class:"hide"},null,40,z)]),(0,a._)("span",H,(0,W.zw)(n.user.name),1)])),_:1},8,["to"])]),(0,a._)("li",null,[(0,a.Wm)(l,{to:{path:"/follow_list"},class:"btn link"},{default:(0,a.w5)((()=>[x,M])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{to:{path:"/like_list"},class:"btn link"},{default:(0,a.w5)((()=>[U,Z])),_:1})])]),N])}var S={name:"AsideNavCMPT",computed:{user(){const{user:e}=this.$store.state;return e}}};const B=(0,$.Z)(S,[["render",P],["__scopeId","data-v-0a02169f"]]);var R=B,T={name:"HomeView",components:{Header:D,AsideNav:R},created(){this.$store.commit("Load",!0);const e="https://agile-anchorage-83053.herokuapp.com/user/profile",{headers:t}=this.$store.state;this.$http.get(e,t).then((e=>{const{user:t}=e.data;delete t.followers,delete t.following,""===t.photo&&(t.photo="https://i.imgur.com/IZLtAAb.jpg"),this.$store.commit("user",t)})).catch((e=>{console.error(e)})).then((()=>{this.$store.commit("Load",!1)}))}};const j=(0,$.Z)(T,[["render",n],["__scopeId","data-v-6ce0271b"]]);var q=j}}]);
//# sourceMappingURL=737.94210581.js.map